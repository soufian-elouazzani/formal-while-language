3.1.1)
— Formaliser la propriété indiquant que la relation SOS est transitive.
— Démontrer cette propriété.
Theorem SOS_trans : forall c1 c2 c3, SOS c1 c2 -> SOS c2 c3 -> SOS c1 c3.
Proof.
  intros c1 c2 c3 s12 s23.
  induction s12.
  
  -apply s23.
   
  -eapply SOS_again.
   {apply H.}
   {apply IHs12. apply s23.}
Qed.


— Énoncer en français la propriété indiquée par le théorème SOS_seq. On pourra au besoin utiliser ce théorème sans le démontrer.
R: Si l'exécution de i1 à partir de l'état s1 termine dans l'état s2, alors l'exécution de la séquence i1;i2 commençant dans l'état s1 mène à la configuration intermédiaire où il reste à exécuter i2 dans l'état s2.

Exercice 3.1.2 Programme WHILE Pcarre_2)
— Démontrer que Pcarre_2 mène d’un état avec i = 0, x = 0 et y = 1 à une configuration intermédiaire où Pcarre_2 peut être exécuté en partant d’un état avec i = 1, x = 1 et y = 3.
R: Lemma SOS_Pcarre_2_1er_tour : SOS (Inter Pcarre_2 [0;0;1]) (Inter Pcarre_2 [1; 1; 3]). -> see in the TD7 file

— Démontrer le lemme SOS_Pcarre_inf_1er_tour et indiquer ce que signifie son énoncé.
R:L'énoncé signifie qu'en commençant l'exécution de Pcarre_inf dans l'état [0;0;1], on arrive à la configuration intermédiaire (Inter Pcarre_inf [1; 1; 3]). C'est-à-dire que le programme a effectué un tour de cette boucle infini.



— Indiquer la signification du théorème SOS_Pcarre_2_2e_tour.
R: L'énoncé indique qu'en commençant l'exécution de Pcarre_2 dans l'état [1;1;3], on arrive à la configuration intermédiaire (Inter Pcarre_2 [2;4;5]). Cela correspond à l'exécution du deuxième tour de la boucle.

— Indiquer la signification du théorème SOS_Pcarre_2_fini et le démontrer.
R: L'énoncé indique que l'exécution de Pcarre_2 à partir de l'état [2; 4; 5] se termine sans modifier l'état. Cela correspond à la terminaison de la boucle.


— Démontrer que Pcarre_2 mène d’un état avec i = 0, x = 0 et y = 1 à une configuration finale d’état i = 2, x = 4 et y = 5. On pourra utiliser la transitivité de SOS.
R: IN TD7.v SOS_Pcarre_2_fin_V1

Exercice 3.1.3 Programmes WHILE Pcarre et Pcarre_inf.
— Indiquer la signification de SOS_corps_carre. Démontrer ce théorème.
R: Ce théorème montre que l'exécution du corps de la boucle met correctement à jour les variables : si l'on part de l'état correspondant à n (défini par invar_cc n), l'exécution aboutit à l'état correspondant à S(n).

— Indiquer la signification de SOS_corps_carre_inter. Démontrer ce théorème.
RF: Ce théorème indique que l'exécution d'une séquence composée de corps_carre suivi d'une instruction i, à partir de l'état invar_cc n, aboutit à la configuration intermédiaire où il reste à exécuter i dans l'état mis à jour invar_cc (S n).


— Indiquer la signification de SOS_Pcarre_tour. Démontrer ce théorème.

R:Ce théorème formalise l'exécution d'un tour complet de la boucle. Il indique que si l'on part de l'état invar_cc i, l'exécution du corps de la boucle "Pcarre n", nous ramène à la configuration intermédiaire contenant le programme "Pcarre n" et l'état mis à jour "invar_cc (S i)".




— Indiquer la signification de SOS_Pcarre_n_fini. Démontrer ce théorème.
R: Ce théorème indique que si l'on exécute Pcarre n alors que l'état correspond déjà aux valeurs attendues pour n, le programme se termine immédiatement sans rien modifier



— Expliquer en français la démonstration de SOS_Pcarre_2_fin_V2.
R: L'objectif est de démontrer que l'exécution de Pcarre_2 mène de l'état initial [0;0;1] à l'état final [2;4;5].
Pour cela, la preuve utilise la propriété de transitivité (SOS_trans) afin de décomposer l'exécution globale en trois étapes, basées sur des théorèmes précédents :

On utilise d'abord SOS_Pcarre_tour pour prouver le passage du premier tour de boucle (de i=0 à i=1).

On réutilise SOS_Pcarre_tour pour le second tour (de i=1 à i=2).

Enfin, on utilise SOS_Pcarre_n_fini pour montrer la terminaison du programme, puisque l'état atteint correspond à la condition d'arrêt (i=n=2)."


— Indiquer la signification de SOS_Pcarre_inf_tour. Démontrer ce théorème.
R: Ce lemme indique que l'exécution d'une itération du programme Pcarre_inf, à partir de l'état (invar_cc i), mène à une configuration intermédiaire contenant le même programme "Pcarre_inf" mais avec l'état mis à jour (invar_cc (S i)).



— Indiquer la signification de SOS_Pcarre_inf_n. Démontrer ce théorème.
R: Ce théorème indique que pour tout entier n, l'exécution du programme infini Pcarre_inf à partir de l'état initial [0;0;1] permet d'atteindre la configuration intermédiaire correspondant à l'étape n (invar_cc n).
